<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Does that use a lot of energy?</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #2d3436;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3a5f 0%, #0f1e30 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 1em;
            opacity: 0.9;
        }

        .content {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 20px;
            padding: 20px;
        }

        .products-panel {
            border-right: 2px solid #e5e7eb;
            padding-right: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        .products-panel h2 {
            color: #2E5F8A;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .product-item {
            background: #f9fafb;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .product-item:hover {
            background: #f3f4f6;
            border-color: #4A90E2;
        }

        .product-item.selected {
            background: #dbeafe;
            border-color: #4A90E2;
        }

        .product-header {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .product-header input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .product-name {
            font-weight: 600;
            color: #1f2937;
            flex: 1;
            font-size: 13px;
        }

        .custom-inputs {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #d1d5db;
            display: none;
        }

        .product-item.selected .custom-inputs {
            display: block;
        }

        .input-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .input-group input {
            width: 55px;
            padding: 5px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-size: 12px;
            text-align: center;
        }

        .input-group input:focus {
            outline: none;
            border-color: #4A90E2;
        }

        .input-group label {
            font-size: 12px;
            color: #6b7280;
        }

        .fixed-value {
            font-size: 12px;
            color: #6b7280;
            font-style: italic;
        }

        .chart-panel {
            padding-left: 20px;
        }

        .chart-panel h2 {
            color: #2E5F8A;
            margin-bottom: 5px;
            font-size: 1.5em;
        }

        .chart-subtitle {
            color: #6b7280;
            font-size: 1em;
            margin-bottom: 15px;
        }

        .chart-container {
            position: relative;
            height: 500px;
            background: #f9fafb;
            border-radius: 10px;
            padding: 15px;
        }

        .download-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: #4A90E2;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: background 0.3s ease;
            z-index: 10;
        }

        .download-btn:hover {
            background: #2E5F8A;
        }

        .download-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .no-data {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            font-size: 1.2em;
            text-align: center;
        }

        .clear-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin-top: 15px;
            width: 100%;
            transition: background 0.3s ease;
        }

        .clear-btn:hover {
            background: #dc2626;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: #4A90E2;
        }

        .search-box input::placeholder {
            color: #9ca3af;
        }

        .category-header {
            font-size: 1.1em;
            font-weight: 700;
            color: #2E5F8A;
            padding: 15px 0 10px 0;
            margin-top: 15px;
            border-bottom: 2px solid #4A90E2;
        }

        .category-header:first-child {
            margin-top: 0;
        }

        .info-section {
            padding: 0 20px 20px 20px;
            margin-top: -10px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 20px;
        }

        .tab-button {
            padding: 12px 24px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: #6b7280;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            bottom: -2px;
        }

        .tab-button:hover {
            color: #4A90E2;
        }

        .tab-button.active {
            color: #2E5F8A;
            border-bottom-color: #4A90E2;
        }

        .tab-content {
            display: none;
            background: #f9fafb;
            border-radius: 10px;
            padding: 20px;
            line-height: 1.6;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h1,
        .tab-content h2 {
            color: #2E5F8A;
            margin-bottom: 12px;
            margin-top: 20px;
        }

        .tab-content h2:first-child {
            margin-top: 0;
        }

        .tab-content h3 {
            color: #2E5F8A;
            margin-bottom: 10px;
            margin-top: 18px;
            font-size: 16px;
        }

        .tab-content h4 {
            color: #4A90E2;
            margin-bottom: 8px;
            margin-top: 14px;
            font-size: 14px;
        }

        .tab-content p {
            margin-bottom: 12px;
            color: #1f2937;
        }

        .tab-content ul {
            margin-left: 20px;
            margin-bottom: 12px;
        }

        .tab-content li {
            margin-bottom: 6px;
            color: #1f2937;
        }

        .tab-content a {
            color: #2563eb;
            text-decoration: underline;
            cursor: pointer;
        }

        .tab-content a:hover {
            color: #1d4ed8;
            text-decoration: underline;
        }

        .tab-content a:visited {
            color: #7c3aed;
        }

        @media (max-width: 1024px) {
            .content {
                grid-template-columns: 1fr;
            }

            .products-panel {
                border-right: none;
                border-bottom: 2px solid #e5e7eb;
                padding-right: 0;
                padding-bottom: 20px;
                max-height: none;
            }

            .chart-panel {
                padding-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Does that use a lot of energy?</h1>
            <p>Compare energy consumption of different products and activities</p>
        </div>

        <div class="content">
            <div class="products-panel">
                <h2>Select Products</h2>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search products..." oninput="filterProducts()">
                </div>
                <div id="productsList"></div>
                <button class="clear-btn" onclick="clearAll()">Clear All Selections</button>
            </div>

            <div class="chart-panel">
                <h2>Energy consumption</h2>
                <p class="chart-subtitle">Estimates measured in watt-hours (Wh).</p>
                <div class="chart-container">
                    <canvas id="energyChart"></canvas>
                    <div class="no-data" id="noData">Select products to compare their energy use</div>
                </div>
            </div>
        </div>

        <div class="info-section">
            <div class="tabs">
                <button class="tab-button active" onclick="switchTab('description')">Description</button>
                <button class="tab-button" onclick="switchTab('methodology')">Methodology</button>
            </div>

            <div id="description" class="tab-content active">
                <h3>Disclaimer</h3>
                <p>This tool was designed to get a sense of the differences in energy consumption between different products. It's often difficult to understand whether activities matter a lot or very little for our overall energy consumption.</p>
                <p>Hopefully it is useful for stimulating more informed discussions about the relative impacts of different activities and behaviours. I found the process of calculating the numbers and building the tool useful (and at times, surprising).</p>
                <p>These numbers represent typical products and usage (specifically for the UK, although it will often generalise elsewhere), and might not reflect your own personal circumstances. If you want to get precise measurements, you will need to use dedicated energy monitoring equipment.</p>
                <p>Actual energy consumption will vary a lot depending on factors such as the age and efficiency of the product, how you're using it (for example, how warm your showers are, or how fast you drive), local climate conditions.</p>

                <h3>How to use</h3>
                <p>Add and remove products or activities in the sidebar to compare them on the chart. Most have the option of adjusting the number of hours used, miles driven, or other units of usage.</p>

                <h3>Author</h3>
                <p>This tool was built by Hannah Ritchie, with the help of Claude Code.</p>
            </div>

            <div id="methodology" class="tab-content">
                <h2>Methodology and Sources for Energy Consumption Estimates</h2>

                <h3>1. General Methodology</h3>
                <p>All energy consumption values in this tool are measured in watt-hours (Wh), which is the amount of energy consumed over time. The basic formula for calculating energy consumption is:</p>
                <p><strong>Energy (Wh) = Power (Watts) × Time (Hours)</strong></p>
                <p>For example, a 100-watt light bulb used for 2 hours would consume 200 watt-hours of energy.</p>
                <p>Most products on this list are electrical, but energy use for non-electric products (such as petrol car or gas heating) are converted into watt-hour equivalents.</p>
                <p>Below, I list the assumptions and sources for each product or activity. Again, the actual level of energy consumption will depend on factors such as the specific efficiency of the product, user settings, and climate so these should be interpreted as approximations to give a sense of magnitude.</p>

                <h3>2. Lighting</h3>
                <h4>Incandescent lightbulb</h4>
                <p>Traditional incandescent bulbs typically range from 25 to 100 watts, with 60 watts being relatively standard for a household bulb. One hour of use would consume 60 Watt-hours (Wh).</p>

                <h4>LED lightbulb</h4>
                <p>LED bulbs use around 80% less energy than incandescent bulbs for the same amount of light output. A standard LED bulb has an energy rating of around 10 W. Using it for one hour would consume 10 Wh.</p>

                <h3>3. Digital Technologies</h3>
                <h4>Charging a mobile phone</h4>
                <p>Modern smartphones have battery capacities of 3,000-5,000 mAh at approximately 3.7-4.2V, resulting in batteries around 15-20 watt-hours. If we assume there is around 10% to 20% loss due to charging efficiencies, a full charge likely requires around 20 Wh.</p>

                <h4>Watching TV – Medium, efficient</h4>
                <p>Medium-efficiency TVs (for example, 40-50 inch LED TVs) consume approximately 60 watts during active viewing.</p>

                <h4>Watching TV – Large, modern</h4>
                <p>Larger modern TVs (55-60 inches with 4K capability) typically consume 80-100 watts. I've gone with 90 watts as a reasonable average.</p>

                <h4>MacBook laptop</h4>
                <p>The power consumption of Apple MacBooks vary depending on the model and what applications users are running, but usage typically ranges from 30-100 watts. A MacBook Pro under moderate use averages around 70 watts.</p>

                <h4>Laptop or efficient desktop</h4>
                <p>Laptops (other than MacBooks) often use slightly less power during moderate usage. Desktop computers vary widely, but more efficient models consume approximately 50 watts. Note that gaming computers can use far more, especially during peak usage (often several hundred watts).</p>

                <h4>Gaming console (Xbox)</h4>
                <p>The power consumption of game consoles can vary a lot, depending on the model. The Xbox Series S typically consumes around 70 watts during active gameplay. The Xbox Series X consumes around twice as much: 150 watts.</p>
                <p>Game consoles use much less when streaming TV or film, or when in menu mode.</p>

                <h4>Streaming Netflix (streaming only)</h4>
                <p>Streaming one hour of HD video consumes approximately 18 Wh. This is only for the data transmission; it does not include the electricity usage of the device (the laptop or TV itself). To get the total for that hour of viewing, combine it with the power usage of whatever device you're watching it on.</p>

                <h4>Streaming YouTube (streaming only)</h4>
                <p>Similar to Netflix, YouTube streaming consumes approximately 20 Wh per hour of HD content, slightly higher due to typical streaming patterns and ad delivery. Again, you need to add the power consumption of the device you're watching on, separately.</p>

                <h4>ChatGPT (median query)</h4>
                <p>Recent research estimates that the median ChatGPT query using GPT-4o consumes approximately 0.3 watt-hours of electricity.</p>
                <p>Actual electricity consumption varies a lot depending on the length of query and response. More detailed queries — such as Deep Research — will consume more (but there is insufficient public data to confirm how much).</p>

                <h4>Reading on a Kindle</h4>
                <p>E-readers like the Kindle use e-ink displays that consume power primarily when refreshing the page. A typical Kindle device has a battery of around 1000–1700 mAh at ~3.7 V, which is 3.7 to 6 Wh. People report it lasting weeks on a full charge with moderate (30 minute per day) reading frequency.</p>
                <p>That works out to less than 1 Wh per hour. Here I've been conservative and have rounded it up to 1 Wh.</p>

                <h3>4. Kitchen Appliances</h3>
                <h4>Boiling a kettle</h4>
                <p>Electric kettles typically have power rating between 1500 and 2000 watts. Boiling a full kettle (1.5-1.7 litres) takes around 3 to 4 minutes.</p>
                <p>A 2000-watt kettle that takes 3 minutes to boil will consume around 100 watt-hours.</p>

                <h4>Microwave</h4>
                <p>Microwaves typically have a power rating between 800 and 1,200 watts. If we assume 1000 watts, five minutes of use would consume 83 Wh (1000 * 0.08).</p>

                <h4>Electric oven</h4>
                <p>Electric ovens can have a power rating ranging from 2,000 to 5,000 watts. A typical one is around 2500 watts. 30 minutes of use would consume 1,250 Wh.</p>

                <h4>Gas oven</h4>
                <p>Gas ovens consume natural gas for heating but also use electricity for ignition and controls (approximately 300-400 watts). When converting the thermal energy from gas combustion to electrical equivalents for comparison purposes, gas ovens typically use slightly more total energy than electric ovens due to combustion inefficiency. Thirty minutes = approximately 1,500 Wh equivalent.</p>

                <h4>Air fryer</h4>
                <p>Small air fryers typically operate at 800W to 1500W. Larger models (especially with two trays) can be as much as 2500W. I've assumed 1500 watts in these calculations. Once an air fryer is on, it typically cycles and only runs at around 50% to 60% of capacity. Averaged over a cycle, 1000W is likely more realistic.</p>
                <p>Ten minutes of use would consume 167 Wh (1000W * 0.17 hours = 167 Wh).</p>

                <h4>Electric induction hob (one ring)</h4>
                <p>Induction hobs are efficient, and tend to have a power rating of 1,000W to 2,000W per ring. I've assumed 1,500 watts in these calculations. Like air fryers, they're often not operating at maximum power draw for the full cooking session. 50% is more typical. That means the average power usage is closer to 750W.</p>
                <p>Most cooking activities take less time; typically 5 to 10 minutes, which reduces electricity consumption.</p>

                <h4>Gas hob (one ring)</h4>
                <p>Gas hobs convert natural gas to heat. They tend to consume 2 to 2.5-times as much energy as induction hobs to achieve the same heat output. This is because they typically operate at around 40% efficiency, compared to 85% for an electric hob.</p>
                <p>If an induction hob has an average rating of 750W over a cooking cycle, the useful heat delivered is 638W (750W * 85% efficiency). To get that useful heat from a gas hob with 40% efficiency would need 1595W (638W / 0.4). Here I've assumed an equivalent power input of 1600W.</p>

                <h4>Small fridge</h4>
                <p>A small-to-medium refrigerator (around 130 litres) typically consumes around 100 kWh per year, which equals approximately 275 Wh per day on average.</p>

                <h4>Fridge-freezer</h4>
                <p>Standard refrigerator-freezer combinations consume anywhere between 200 and 500 kWh per year. Some very efficient models can achieve less than 200 kWh. Here, I have assumed one consumes 300 kWh per year. That is approximately 822 Wh per day.</p>
                <p><strong>Sources:</strong></p>
                <ul>
                    <li>U.S. EIA: <a href="https://www.eia.gov/energyexplained/use-of-energy/electricity-use-in-homes.php" target="_blank">Electricity use in homes</a></li>
                    <li>Silicon Valley Power: <a href="https://www.siliconvalleypower.com/residents/save-energy/appliance-energy-use-chart" target="_blank">Appliance Energy Use Chart</a></li>
                </ul>

                <h3>5. Washing and Drying</h3>
                <h4>Vacuum cleaner (hoover)</h4>
                <p>Vacuum cleaners typically use 500W to over 1,500W. Popular models in the UK use around 620W or 750W. Here, I have assumed a power rating of 750W. Ten minutes of usage would consume 120 Wh (750 * 0.16).</p>

                <h4>Washing machine</h4>
                <p>Washing machine energy usage varies a lot depending on load size, cycle type and water temperature. An average load in an efficient, modern machine might use 600 Wh to 1,000 Wh per cycle. A large load could be use than 1,500 Wh. Here I have assumed 800 Wh, which is typical for a medium load.</p>

                <h4>Tumble dryer</h4>
                <p>Electric tumble dryers are among the highest energy consumers in the home. Heat pump models are much more efficient than condenser or vented models. A condenser or vented model might consume between 4000 and 5000 Wh per cycle. A heat pump model, around half as much.</p>
                <p>Here, I have assumed 4500 Wh for condenser or vented cycles, and 2000 Wh for a heat pump cycle. Actual energy consumption will depend on factors such as load size and user settings.</p>

                <h4>Dishwasher</h4>
                <p>Most energy in a dishwasher is used for heating the water. They typically use between 1,000 and 1,500 Wh per cycle. Very efficient models can use closer to 500 Wh per cycle. Operating on eco modes will also consume less than 1,000 Wh.</p>
                <p>Here, I have assumed 1,250 Wh per cycle, which is fairly average for most users.</p>

                <h4>Clothes iron</h4>
                <p>Clothes irons typically have an energy rating between 1500W and 3000W. Steam irons are towards the higher end of the range. Here, I have assumed 2500W, which is fairly standard for a steam iron.</p>
                <p>Using one for 10 minutes would consume 400 Wh of power (2500 * 0.16).</p>

                <h3>6. Heating and Cooling</h3>
                <h4>Hairdryer</h4>
                <p>Hairdryers typically range from 1,000 to 2,000 watts. I have assumed a power rating of 1,750W. Five minutes of use would consume 140 Wh (1750W * 0.08).</p>

                <h4>Electric shower</h4>
                <p>Electric showers are high-power appliances, rated between 7,500W to 11,500W. Specific models of 7.2 kW, 7.5 kW, 8.5 kW, 9.5 kW, 10.5 kW, and 11.5 kW are typical.</p>
                <p>I have assumed a 9,500W model here. A 10-minute shower at 9,500 watts would consume 1,520 Wh (9500W * 0.16 hours).</p>

                <h4>Gas-powered shower</h4>
                <p>If we take the gas equivalent of an electric shower (rated at 9500W) and assume a boiler efficiency of 90%, we get around 10,500W in energy input equivalents. A 10-minute shower would consume 1,690 Wh (10,500 * 0.16).</p>

                <h4>Electric fan</h4>
                <p>Standard fans typically use 30-75 watts, with 50 watts being a reasonable average.</p>

                <h4>Small desk heater</h4>
                <p>Small portable electric heaters typically range from 400-1,000 watts. A 400-watt heater = 400 Wh per hour.</p>

                <h4>Large space heater</h4>
                <p>Large space heaters typically operate at 1,000-1,500 watts at their highest setting. 1,500 watts for one hour = 1,500 Wh.</p>

                <h4>Electric heat pump</h4>
                <p>Modern high-efficiency heat pumps for single rooms (mini-splits) typically consume 400-600 watts per hour of heating operation, being 3-4 times more efficient than resistive heating.</p>
                <p><strong>Sources:</strong></p>
                <ul>
                    <li>ACEEE: <a href="https://www.aceee.org/sites/default/files/publications/researchreports/a1602.pdf" target="_blank">Comparative Energy Use of Residential Gas Furnaces and Electric Heat Pumps</a></li>
                    <li>HVAC.com: <a href="https://www.hvac.com/expert-advice/heat-pump-vs-gas-furnace/" target="_blank">Heat pump vs. gas furnace myths</a></li>
                </ul>

                <h4>Gas heating</h4>
                <p>Gas heating systems convert natural gas to heat. When accounting for the electrical equivalent energy, a typical gas heater for a single room = approximately 1,000 Wh per hour equivalent, though actual efficiency varies by system.</p>

                <h4>Air conditioning</h4>
                <p>Window or portable air conditioning units for single rooms typically use 900-1,500 watts, with 1,000 watts being a reasonable average for medium-sized rooms.</p>

                <h3>7. Driving</h3>
                <h4>Using an e-bike</h4>
                <p>Electric bicycles typically consume between 10 to 30 watt-hours per mile depending on speed, the cycling conditions, and how high the level of electric assist is. I've assumed a value of 25 Wh per mile.</p>

                <h4>Using an e-scooter</h4>
                <p>Electric scooters typically consume 15-30 watt-hours per mile depending on the model and conditions. Here, I've assumed a usage of 25 Wh per mile.</p>

                <h4>Driving an electric motorbike</h4>
                <p>Electric motorbikes typically consume 100 to 250 watt-hours per mile depending on the model, driver weight and conditions. Real-world tests of motorbike efficiency find efficiencies of around 100 Wh per mile for moderate urban driving. People report higher usage when driving at higher speeds or motorway driving.</p>
                <p>Here I've assumed around 150 Wh per mile.</p>

                <h4>Driving a petrol motorbike</h4>
                <p>Petrol motorbikes can consume between 50 and 100 miles per gallon. Let's take an average of 75mpg. A gallon is around 4.5 litres, so 75mpg is equivalent to 0.06 litres per mile.</p>
                <p>The energy content of petrol is around 32 MJ per litre (or 8.9 kWh per litre). That equates to 0.53 kWh per mile (8.9kWh per litre * 0.06 litres per mile). Driving one mile uses around 530 Wh per mile.</p>
                <p>In terms of energy inputs, this means an electric motorbike is 3 to 4 times as efficient as a petrol one.</p>

                <h4>Driving an electric car</h4>
                <p>Electric vehicles average approximately 0.3 kWh (300 Wh) per mile, though this varies from 200-400 Wh per mile depending on vehicle efficiency, driving conditions, and speed.</p>
                <p><strong>Sources:</strong></p>
                <ul>
                    <li>EV Database: <a href="https://ev-database.org/cheatsheet/energy-consumption-electric-car" target="_blank">Energy consumption of full electric vehicles</a></li>
                    <li>EV Help Hub: <a href="https://evhelphub.com/articles/miles-per-kilowatt-hour/" target="_blank">Miles per Kilowatt-Hour explained</a></li>
                    <li>Car and Driver: <a href="https://www.caranddriver.com/features/a36064484/evs-explained-consumption-versus-efficiency/" target="_blank">EVs Explained: Consumption vs. Efficiency</a></li>
                </ul>

                <h4>Driving a petrol car</h4>
                <p>Gasoline vehicles at an average of 25-30 MPG consume approximately 33-40 kWh equivalent per gallon of gasoline (based on the 33.7 kWh energy content per gallon). This translates to approximately 900-1,200 Wh per mile equivalent, with 1,000 Wh being a reasonable average for comparison purposes.</p>

                <h3>8. Gardening</h3>
                <h4>Electric lawnmower</h4>
                <p>Electric lawnmowers typically operate at 1,000-2,000 watts, with 1,500 watts being a typical average. One hour of use = 1,500 Wh.</p>

                <h4>Petrol lawnmower</h4>
                <p>Petrol/gasoline lawnmowers consume fuel that, when converted to electrical equivalent energy, represents approximately 9,000 Wh per hour of operation.</p>

                <h3>9. Notes and Limitations</h3>
                <p><strong>1. VARIABILITY:</strong> Actual energy consumption varies significantly based on:</p>
                <ul>
                    <li>Product age and efficiency</li>
                    <li>Usage patterns and settings</li>
                    <li>Environmental conditions (temperature, humidity)</li>
                    <li>User behavior</li>
                </ul>

                <p><strong>2. ASSUMPTIONS:</strong></p>
                <ul>
                    <li>All electric appliance values assume standard grid electricity</li>
                    <li>Gas appliance values are converted to electrical equivalents for comparison purposes</li>
                    <li>Values represent typical residential use cases in moderate climates</li>
                </ul>

                <p><strong>3. SOURCES:</strong> This tool aggregates data from:</p>
                <ul>
                    <li>U.S. Department of Energy</li>
                    <li>U.S. Energy Information Administration (EIA)</li>
                    <li>Peer-reviewed research publications</li>
                    <li>Manufacturer specifications</li>
                    <li>Industry reports and databases (2024-2026)</li>
                </ul>

                <p><strong>4. PURPOSE:</strong> These estimates are designed for educational comparison purposes and may not reflect your specific circumstances. For precise measurements, use dedicated energy monitoring equipment.</p>

                <h3>General References</h3>
                <ul>
                    <li>U.S. Department of Energy: <a href="https://www.energy.gov/energysaver/estimating-appliance-and-home-electronic-energy-use" target="_blank">Estimating Appliance and Home Electronic Energy Use</a></li>
                    <li>U.S. EIA: <a href="https://www.eia.gov/energyexplained/use-of-energy/electricity-use-in-homes.php" target="_blank">Electricity use in homes</a></li>
                    <li>EnergySage: <a href="https://www.energysage.com/electricity/house-watts/" target="_blank">How many watts do common appliances use</a></li>
                    <li>Silicon Valley Power: <a href="https://www.siliconvalleypower.com/residents/save-energy/appliance-energy-use-chart" target="_blank">Appliance Energy Use Chart</a></li>
                </ul>

                <p style="margin-top: 20px; font-size: 11px; color: #6b7280;"><em>Last Updated: February 2026</em></p>
            </div>
        </div>
    </div>

    <script>
        let products = [];
        let chart = null;

        async function loadProducts() {
            const response = await fetch('products_data.json');
            products = await response.json();
            renderProductsList();
        }

        function isCategory(product) {
            return product.wattage === null && product.fixed_wh === null;
        }

        function renderProductsList() {
            const container = document.getElementById('productsList');
            container.innerHTML = products.map((product, index) => {
                // Check if this is a category header
                if (isCategory(product)) {
                    return `
                        <div class="category-header" id="product-${index}">
                            ${product.name}
                        </div>
                    `;
                }

                // Regular product item
                return `
                    <div class="product-item" id="product-${index}">
                        <div class="product-header" onclick="toggleProduct(${index})">
                            <input type="checkbox" id="check-${index}" onclick="event.stopPropagation(); toggleProduct(${index})">
                            <span class="product-name">${product.name}</span>
                        </div>
                        <div class="custom-inputs">
                            ${renderInputs(product, index)}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            let lastCategoryIndex = -1;
            let categoryHasVisibleItems = false;

            products.forEach((product, index) => {
                const productDiv = document.getElementById(`product-${index}`);

                if (isCategory(product)) {
                    // Hide previous category if it had no visible items
                    if (lastCategoryIndex >= 0 && !categoryHasVisibleItems) {
                        document.getElementById(`product-${lastCategoryIndex}`).style.display = 'none';
                    }

                    // Start tracking new category
                    lastCategoryIndex = index;
                    categoryHasVisibleItems = false;
                    productDiv.style.display = 'block'; // Will hide later if no items match
                } else {
                    // Regular product
                    if (product.name.toLowerCase().includes(searchTerm)) {
                        productDiv.style.display = 'block';
                        categoryHasVisibleItems = true;
                    } else {
                        productDiv.style.display = 'none';
                    }
                }
            });

            // Handle the last category
            if (lastCategoryIndex >= 0 && !categoryHasVisibleItems) {
                document.getElementById(`product-${lastCategoryIndex}`).style.display = 'none';
            }
        }

        function renderInputs(product, index) {
            switch(product.input_type) {
                case 'hours':
                    const defaultHours = Math.floor(product.default_value);
                    const defaultMinutes = Math.round((product.default_value % 1) * 60);
                    return `
                        <div class="input-row">
                            <div class="input-group">
                                <input type="number" id="input1-${index}" min="0" max="24" value="${defaultHours}" onchange="updateChart()">
                                <label>hours</label>
                            </div>
                            <div class="input-group">
                                <input type="number" id="input2-${index}" min="0" max="59" value="${defaultMinutes}" onchange="updateChart()">
                                <label>minutes</label>
                            </div>
                        </div>
                    `;

                case 'cycles':
                    return `
                        <div class="input-row">
                            <div class="input-group">
                                <input type="number" id="input1-${index}" min="1" value="1" onchange="updateChart()">
                                <label>cycles</label>
                            </div>
                        </div>
                    `;

                case 'boils':
                    return `
                        <div class="input-row">
                            <div class="input-group">
                                <input type="number" id="input1-${index}" min="1" value="1" onchange="updateChart()">
                                <label>full boils</label>
                            </div>
                        </div>
                    `;

                case 'queries':
                    return `
                        <div class="input-row">
                            <div class="input-group">
                                <input type="number" id="input1-${index}" min="1" value="1" onchange="updateChart()">
                                <label>queries</label>
                            </div>
                        </div>
                    `;

                case 'miles':
                    return `
                        <div class="input-row">
                            <div class="input-group">
                                <input type="number" id="input1-${index}" min="1" value="10" onchange="updateChart()">
                                <label>miles</label>
                            </div>
                        </div>
                    `;

                case 'fixed':
                    return `<div class="fixed-value">Fixed: ${product.fixed_wh.toFixed(1)} Wh</div>`;

                default:
                    return '';
            }
        }

        function toggleProduct(index) {
            // Skip if this is a category header
            if (isCategory(products[index])) {
                return;
            }

            const checkbox = document.getElementById(`check-${index}`);
            const productDiv = document.getElementById(`product-${index}`);

            checkbox.checked = !checkbox.checked;

            if (checkbox.checked) {
                productDiv.classList.add('selected');
            } else {
                productDiv.classList.remove('selected');
            }

            updateChart();
        }

        function calculateEnergy(product, index) {
            switch(product.input_type) {
                case 'hours':
                    const hours = parseFloat(document.getElementById(`input1-${index}`).value) || 0;
                    const minutes = parseFloat(document.getElementById(`input2-${index}`).value) || 0;
                    const totalHours = hours + minutes / 60;
                    return product.wattage * totalHours;

                case 'cycles':
                    const cycles = parseFloat(document.getElementById(`input1-${index}`).value) || 1;
                    return product.fixed_wh * cycles;

                case 'boils':
                    const boils = parseFloat(document.getElementById(`input1-${index}`).value) || 1;
                    return product.fixed_wh * boils;

                case 'queries':
                    const queries = parseFloat(document.getElementById(`input1-${index}`).value) || 1;
                    return product.fixed_wh * queries;

                case 'miles':
                    const miles = parseFloat(document.getElementById(`input1-${index}`).value) || 10;
                    return product.wattage * miles;

                case 'fixed':
                    return product.fixed_wh;

                default:
                    return 0;
            }
        }

        function getInputDescription(product, index) {
            switch(product.input_type) {
                case 'hours':
                    const hours = parseFloat(document.getElementById(`input1-${index}`).value) || 0;
                    const minutes = parseFloat(document.getElementById(`input2-${index}`).value) || 0;
                    if (minutes === 0) {
                        return `${hours} hour${hours !== 1 ? 's' : ''} of use`;
                    } else if (hours === 0) {
                        return `${minutes} minute${minutes !== 1 ? 's' : ''} of use`;
                    } else {
                        return `${hours}h ${minutes}m of use`;
                    }

                case 'cycles':
                    const cycles = parseFloat(document.getElementById(`input1-${index}`).value) || 1;
                    return `${cycles} cycle${cycles !== 1 ? 's' : ''}`;

                case 'boils':
                    const boils = parseFloat(document.getElementById(`input1-${index}`).value) || 1;
                    return `${boils} boil${boils !== 1 ? 's' : ''}`;

                case 'queries':
                    const queries = parseFloat(document.getElementById(`input1-${index}`).value) || 1;
                    return `${queries} ${queries !== 1 ? 'queries' : 'query'}`;

                case 'miles':
                    const miles = parseFloat(document.getElementById(`input1-${index}`).value) || 10;
                    return `${miles} mile${miles !== 1 ? 's' : ''} driven`;

                case 'fixed':
                    return 'Per day';

                default:
                    return '';
            }
        }

        function formatWh(value) {
            if (value < 1) {
                return value.toFixed(1);
            } else {
                return Math.round(value).toLocaleString();
            }
        }

        function updateChart() {
            const selectedData = [];

            products.forEach((product, index) => {
                // Skip category headers
                if (isCategory(product)) {
                    return;
                }

                const checkbox = document.getElementById(`check-${index}`);
                if (checkbox && checkbox.checked) {
                    const energy = calculateEnergy(product, index);
                    const description = getInputDescription(product, index);
                    selectedData.push({
                        name: product.name,
                        energy: energy,
                        description: description
                    });
                }
            });

            // Sort by energy value (largest to smallest)
            selectedData.sort((a, b) => b.energy - a.energy);

            // Extract sorted arrays
            const selectedProducts = selectedData.map(d => d.name);
            const energyValues = selectedData.map(d => d.energy);
            const barColor = 'rgba(192, 80, 77, 1)'; // Muted red color
            const descriptions = selectedData.map(d => d.description);

            const noDataDiv = document.getElementById('noData');

            if (selectedProducts.length === 0) {
                noDataDiv.style.display = 'flex';
                if (chart) {
                    chart.destroy();
                    chart = null;
                }
                return;
            }

            noDataDiv.style.display = 'none';

            const ctx = document.getElementById('energyChart').getContext('2d');

            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: selectedProducts,
                    datasets: [{
                        label: 'Energy Use (Wh)',
                        data: energyValues,
                        backgroundColor: barColor,
                        borderColor: barColor,
                        borderWidth: 2
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    layout: {
                        padding: {
                            left: 20,
                            right: 150
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const desc = descriptions[context.dataIndex];
                                    return `${formatWh(context.parsed.x)} Wh (${desc})`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Energy consumption (Watt-hours)',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                maxTicksLimit: 6
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.03)',
                                lineWidth: 1
                            }
                        },
                        y: {
                            ticks: {
                                autoSkip: false,
                                font: {
                                    size: 12
                                },
                                align: 'end'
                            },
                            grid: {
                                display: false
                            }
                        }
                    }
                },
                plugins: [{
                    id: 'barLabels',
                    afterDatasetsDraw: function(chart) {
                        const ctx = chart.ctx;
                        const yScale = chart.scales.y;
                        const xScale = chart.scales.x;

                        chart.data.datasets.forEach((dataset, i) => {
                            const meta = chart.getDatasetMeta(i);
                            meta.data.forEach((bar, index) => {
                                const data = dataset.data[index];
                                const desc = descriptions[index];

                                // Wh value at the end of the bar (right side)
                                ctx.fillStyle = '#1f2937';
                                ctx.font = 'bold 14px sans-serif';
                                ctx.textAlign = 'left';
                                ctx.textBaseline = 'middle';
                                const xPosEnd = bar.x + 10;
                                const yPos = bar.y;
                                ctx.fillText(`${formatWh(data)} Wh`, xPosEnd, yPos);

                                // Usage description under the product name (left side)
                                ctx.fillStyle = '#6b7280';
                                ctx.font = 'italic 11px sans-serif';
                                ctx.textAlign = 'right';
                                ctx.textBaseline = 'top';
                                const xPosStart = xScale.left - 5;
                                const yPosDesc = bar.y + 8;
                                ctx.fillText(desc, xPosStart, yPosDesc);
                            });
                        });
                    }
                }]
            });
        }

        function getColor(index) {
            const colors = [
                'rgba(31, 119, 180, 1)',    // Royal blue
                'rgba(255, 127, 14, 1)',    // Orange
                'rgba(44, 160, 44, 1)',     // Green
                'rgba(214, 39, 40, 1)',     // Red
                'rgba(148, 103, 189, 1)',   // Purple
                'rgba(140, 86, 75, 1)',     // Brown
                'rgba(227, 119, 194, 1)',   // Pink
                'rgba(127, 127, 127, 1)',   // Gray
                'rgba(188, 189, 34, 1)',    // Yellow-green
                'rgba(23, 190, 207, 1)'     // Cyan
            ];
            return colors[index % colors.length];
        }

        function clearAll() {
            products.forEach((product, index) => {
                // Skip category headers
                if (isCategory(product)) {
                    return;
                }

                const checkbox = document.getElementById(`check-${index}`);
                const productDiv = document.getElementById(`product-${index}`);
                if (checkbox) {
                    checkbox.checked = false;
                    productDiv.classList.remove('selected');
                }
            });
            updateChart();
        }

        function downloadChart() {
            if (!chart) return;

            // Create a new canvas for the download with high resolution
            const downloadCanvas = document.createElement('canvas');
            const ctx = downloadCanvas.getContext('2d');

            // Use 2x scale for high DPI displays
            const scale = 2;
            const baseWidth = 1200;
            const baseChartHeight = 600 + (chart.data.labels.length * 40);
            const baseHeight = baseChartHeight + 180; // Extra space for title, subtitle, and source

            // Set canvas dimensions at high resolution
            downloadCanvas.width = baseWidth * scale;
            downloadCanvas.height = baseHeight * scale;

            // Fill white background
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, downloadCanvas.width, downloadCanvas.height);

            // Draw title (scaled coordinates and font)
            ctx.fillStyle = '#2E5F8A';
            ctx.font = `bold ${40 * scale}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`;
            ctx.fillText('Energy consumption', 40 * scale, 55 * scale);

            // Draw subtitle (scaled coordinates and font)
            ctx.fillStyle = '#6b7280';
            ctx.font = `${22 * scale}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`;
            ctx.fillText('Estimates measured in watt-hours (Wh).', 40 * scale, 90 * scale);

            // Create a temporary high-res canvas for the chart
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            const chartCanvas = document.getElementById('energyChart');

            tempCanvas.width = (baseWidth - 80) * scale;
            tempCanvas.height = (baseChartHeight - 120) * scale;

            // Draw the chart at high resolution
            tempCtx.drawImage(chartCanvas, 0, 0, tempCanvas.width, tempCanvas.height);

            // Draw the high-res chart onto the download canvas
            ctx.drawImage(tempCanvas, 40 * scale, 110 * scale);

            // Draw source at the bottom (scaled coordinates and font) - reduced gap
            ctx.fillStyle = '#6b7280';
            ctx.font = `${14 * scale}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`;
            const sourceText = `Source: ${window.location.href}`;
            ctx.fillText(sourceText, 40 * scale, (baseHeight - 20) * scale);

            // Download the canvas as PNG
            downloadCanvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = 'energy-consumption-chart.png';
                link.href = url;
                link.click();
                URL.revokeObjectURL(url);
            });
        }

        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active state from all buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active state to clicked button
            event.target.classList.add('active');
        }

        loadProducts();
    </script>
</body>
</html>
